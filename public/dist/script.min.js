const alertShowandHide=function(e,t){$(".alert."+e).css("visibility","visible"),$(".alert."+e+" .content .body span").text(t),setTimeout(function(){$(".alert."+e).css("visibility","hidden")},15e3)},alertShow=function(e,t){$(".alert."+e).css("visibility","visible"),$(".alert."+e+" .content .body span").text(t)};$(document).ready(function(){$(".alert").each(function(){$(this).find(".close").on("click",function(){$(this).closest(".alert").css("visibility","hidden")})})});const calender={init:function(e){let t=new VanillaCalendar({selector:e,onSelect:e=>{e=new Date(e.date);console.log(e)}});t.set({pastDates:!1,datesFilter:!1})},range:function(e,t){var a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date,r=a[n.getMonth()]+" "+n.getFullYear(),e=(r.split(" "),n.getMonth()+parseInt(e)+1),t=n.getFullYear()+(parseInt(t)+parseInt(e/12)),o=a[e%12]+" "+t;console.log(o),$(".calender-section").on("click","button[data-calendar-toggle]",function(){r===$(".vanilla-calendar-header__label").text()?$('button[data-calendar-toggle="previous"]').prop("disabled",!0):$('button[data-calendar-toggle="previous"]').prop("disabled",!1),o===$(".vanilla-calendar-header__label").text()?$('button[data-calendar-toggle="next"]').prop("disabled",!0):$('button[data-calendar-toggle="next"]').prop("disabled",!1)})}};$(document).ready(function(){calender.init("#myCalendar"),calender.range(0,1),$('button[data-calendar-toggle="previous"]').prop("disabled",!0)}),$(document).ready(function(){$("form .input-group-addon.pass").each(function(){$(this).on("click",function(){$(this).toggleClass("fa-eye-slash fa-eye");let e=$(this).siblings("input");"text"===e.attr("type")?e.attr("type","password"):e.attr("type","text")})})});const ajaxLoadingAnimation=function(){$(document).bind("ajaxSend",function(){$(".loading-overlay").css("visibility","visible"),$(".loading").removeClass("loading-stop")}).bind("ajaxComplete",function(){$(".loading-overlay").css("visibility","hidden"),$(".loading").addClass("loading-stop")})},validatePassword=function(e){for(var t=$(`[name="${e[0]}"`).val(),a=!0,n=1;n<e.length;n++)t!==$(`[name="${e[n]}"]`).val()&&(a=!1);if(!a)for(n=0;n<e.length;n++){var r=$(`[name="${e[n]}"]`).closest(".input-group");r.find(".error-box").text("Password not matching"),r.addClass("error")}return a},validateSelect=function(e){var t=!0;return $(e+" .select.required:visible").each(function(){var e=$(this).closest(".input-group");null===$(this).find(".form-control").val()&&(e.find(".error-box").text(e.attr("data-message")),e.addClass("error"),t=!1)}),t},validate=function(e){var t=!0;return $(e+" .required:visible").each(function(){var e=$(this).closest(".input-group");""===$(this).find(".form-control").val()&&(e.find(".error-box").text(e.attr("data-message")),e.addClass("error"),t=!1)}),t},clearError=function(e){$(e+" .required:visible").each(function(){var e=$(this).closest(".input-group");e.find(".error-box").text(""),e.removeClass("error")})},frmlogin={save:function(){var e={email:$('input[name="txtEmail"]').val(),password:$('input[name="txtPassword"]').val()};$.ajax({type:"POST",url:"/login",data:e,dataType:"json",complete:function(e){e=JSON.parse(e.responseText);e.success?window.location.href="/dashboard":e.error&&alertShowandHide("error",e.message)}})}};$(document).ready(function(){"Login Page"===$("body").data("page")&&(ajaxLoadingAnimation(),$('button[data-role="submit"]').on("click",function(){clearError("#frmLogin"),validate("#frmLogin")&&frmlogin.save()}))}),$(document).ready(function(){});const frmPropertiedRegistration={save:function(){var e={name:$('input[name="txtPropertyName"]').val(),size:$('input[name="txtPropertySize"]').val(),type:$('select[name="txtPropertyType"]').val(),description:$('input[name="txtPropertyDescription"]').val(),address:$('input[name="txtPropertyAddress"]').val(),longitude:$('input[name="txtPropertyLongitude"]').val(),latitude:$('input[name="txtPropertyLatitude"]').val()};$.ajax({type:"POST",url:"/register/property",data:e,dataType:"json",complete:function(e){e=JSON.parse(e.responseText);e.success?($("#modalAddProperty").modal("hide"),alertShowandHide("success","Property added successful")):alertShowandHide("error",e.message)}})}};$(document).ready(function(){"Owner-dashboard"===$("body").data("page")&&(ajaxLoadingAnimation(),$("#modalAddProperty").on("hidden.bs.modal",function(){$("#frmRegisterProperty").trigger("reset")}),$('button[data-role="submit"]').on("click",function(){clearError("#frmRegisterProperty"),validate("#frmRegisterProperty")&&validatePassword(["txtPassword","txtConfirmPassword"])&&validateSelect("#frmRegisterProperty")&&frmPropertiedRegistration.save()}))});const frmRegistration={save:function(){var e={name:$('input[name="txFullName"]').val(),email:$('input[name="txtEmail"]').val(),phone:$('input[name="txtPhone"]').val(),password:$('input[name="txtConfirmPassword"]').val(),role:$('input[name="txtPageRole"]').val()};$.ajax({type:"POST",url:"/register",data:e,dataType:"json",complete:function(e){e=JSON.parse(e.responseText);e.success?($("#modalEmailConfirmation").modal("show"),$("#modalEmailConfirmation span.email").text(e.email)):alertShowandHide("error",e.message)}})}};$(document).ready(function(){"Registraion Page"===$("body").data("page")&&(ajaxLoadingAnimation(),$("#register").on("click",function(){clearError("frmRegistration"),validate("#frmRegistration")&&validatePassword(["txtPassword","txtConfirmPassword"])&&frmRegistration.save()}))}),$(document).ready(function(){$(document).on("click",".sidebar-menu-icon",function(){$(".sidebar").toggleClass("open"),$("body").toggleClass("side-bar-overlay")}),$(document).on("click",".nav-list .list a",function(){$(".sidebar").removeClass("open"),$("body").removeClass("side-bar-overlay")})});